{"version":3,"sources":["components/Searchbar/Searachbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","inputVal","handleInputChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","onClick","img","src","webformatURL","alt","tags","id","Button","onBtnClick","ImageGallery","imagesArray","map","onImgClick","length","Loader","width","height","viewBox","xmlns","fill","fillRule","strokeWidth","cx","cy","r","attributeName","begin","dur","values","calcMode","keyTimes","keySplines","repeatCount","Modal","handleKeyDown","code","toggleModal","closeModal","target","window","removeEventListener","addEventListener","largeImageURL","App","loading","images","pageNum","query","showModal","modalContent","onLoadMoreBtnClick","fetchImgs","prevState","pageNumber","prevImg","fetch","then","json","imgs","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","err","alert","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a67882ae.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Searchbar.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class Searchbar extends React.Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    inputVal: \"\",\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ inputVal: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputVal);\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.inputVal}\n            onChange={this.handleInputChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./ImageGalleryItem.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class ImageGalleryItem extends React.Component {\n  static propTypes = {\n    img: PropTypes.shape({ id: PropTypes.number.isRequired }),\n  };\n\n  onClick = () => {\n    this.props.onClick(this.props.img);\n  };\n\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\" key={this.props.img.id}>\n        <img\n          src={this.props.img.webformatURL}\n          alt={this.props.img.tags}\n          onClick={this.onClick}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Button.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class Button extends React.Component {\n  static propTypes = {\n    onBtnClick: PropTypes.func.isRequired,\n  };\n\n  render() {\n    return (\n      <button className=\"Button\" type=\"button\" onClick={this.props.onBtnClick}>\n        Load More\n      </button>\n    );\n  }\n}\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport \"./ImageGallery.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class ImageGallery extends React.Component {\n  static propTypes = {\n    imagesArray: PropTypes.arrayOf(\n      PropTypes.shape({ id: PropTypes.number.isRequired })\n    ),\n    onBtnClick: PropTypes.func.isRequired,\n    onImgClick: PropTypes.func.isRequired,\n  };\n\n  render() {\n    return (\n      <div>\n        <ul className=\"ImageGallery\">\n          {this.props.imagesArray.map((img) => (\n            <ImageGalleryItem\n              img={img}\n              key={img.id}\n              onClick={this.props.onImgClick}\n            />\n          ))}\n        </ul>\n        {this.props.imagesArray.length !== 0 && (\n          <Button onBtnClick={this.props.onBtnClick} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Loader.scss\";\n\nexport default class Loader extends React.Component {\n  render() {\n    return (\n      <div className=\"Loader\">\n        <svg\n          width=\"80\"\n          height=\"80\"\n          viewBox=\"0 0 44 44\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          aria-label=\"audio-loading\"\n        >\n          <g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\">\n            <circle cx=\"22\" cy=\"22\" r=\"1\">\n              <animate\n                attributeName=\"r\"\n                begin=\"0s\"\n                dur=\"1.8s\"\n                values=\"1; 20\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.165, 0.84, 0.44, 1\"\n                repeatCount=\"indefinite\"\n              />\n              <animate\n                attributeName=\"strokeOpacity\"\n                begin=\"0s\"\n                dur=\"1.8s\"\n                values=\"1; 0\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.3, 0.61, 0.355, 1\"\n                repeatCount=\"indefinite\"\n              />\n            </circle>\n            <circle cx=\"22\" cy=\"22\" r=\"1\">\n              <animate\n                attributeName=\"r\"\n                begin=\"-0.9s\"\n                dur=\"1.8s\"\n                values=\"1; 20\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.165, 0.84, 0.44, 1\"\n                repeatCount=\"indefinite\"\n              />\n              <animate\n                attributeName=\"strokeOpacity\"\n                begin=\"-0.9s\"\n                dur=\"1.8s\"\n                values=\"1; 0\"\n                calcMode=\"spline\"\n                keyTimes=\"0; 1\"\n                keySplines=\"0.3, 0.61, 0.355, 1\"\n                repeatCount=\"indefinite\"\n              />\n            </circle>\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Modal.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends React.Component {\n  static propTypes = {\n    img: PropTypes.shape({ id: PropTypes.number.isRequired }),\n    toggleModal: PropTypes.func.isRequired,\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toggleModal();\n    }\n  };\n\n  closeModal = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.closeModal}>\n        <div className=\"Modal\">\n          <img src={this.props.img.largeImageURL} alt={this.props.img.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Searchbar from \"./components/Searchbar/Searachbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport \"./App.scss\";\n\nclass App extends React.Component {\n  state = {\n    loading: false,\n    images: null,\n    pageNum: 1,\n    query: \"\",\n    showModal: false,\n    modalContent: {},\n  };\n\n  // ðŸ¶ function to work with API, updates state's images depending on 3rd parametr (merges new with old or creates new 12)\n  fetchImgs(query, pageNumber, prevImg = []) {\n    this.setState({ loading: true });\n    fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}'&page=${pageNumber}&per_page=12&key=23034166-be8967e0ea66b0703121f1d79`\n    )\n      .then((r) => r.json())\n      .then((imgs) => {\n        this.setState({ images: [...prevImg, ...imgs.hits], loading: false });\n        if (prevImg.length !== 0) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((err) => alert(`${err}`));\n  }\n\n  //load-more-button only shows with img-gallery-component, it relies on App's state - query, page-number and merges old images into new response\n  onLoadMoreBtnClick = (e) => {\n    e.preventDefault();\n\n    this.fetchImgs(this.state.query, this.state.pageNum, this.state.images);\n\n    this.setState((prevState) => ({\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  //loads new query, always 1st page and updates App's state for pagination, but never uses that\n  onSubmit = (query) => {\n    this.setState({ query, pageNum: 1 });\n\n    this.fetchImgs(query, 1);\n\n    this.setState((prevState) => ({\n      pageNum: (prevState.pageNum += 1),\n    }));\n  };\n\n  //==== MODAL ==== methods\n  // changes state so modal component can or can't be shown\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  // directly works on images, to open modal, because needs image's object to show(largeImageURL), it works from ImageGalleryItem\n  onImgClick = (img) => {\n    this.setState({ modalContent: img });\n    this.toggleModal();\n  };\n\n  //=====\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n        {this.state.loading && <Loader />}\n        {this.state.images && (\n          <ImageGallery\n            imagesArray={this.state.images}\n            onImgClick={this.onImgClick}\n            onBtnClick={this.onLoadMoreBtnClick}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal img={this.state.modalContent} toggleModal={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}